[tool.poetry]
name = "xleapp"
version = "0.1.0-alpha.3"
description = "Multiplaform Logs, Events, And Plists Parser"
authors = ["Jesse Spangenberger <azuleonyx@digitalforensics.io>"]
license = "MIT"

readme = "README.md"

homepage = "https://github.com/flamusdiu/xleapp"
repository = "https://github.com/flamusdiu/xleapp"
documentation = "https://github.com/flamusdiu/xleapp"

keywords = ["forensics", "dfir", "security", "framework"]

classifiers = [
  "Development Status :: 3 - Alpha",
  "License :: OSI Approved :: MIT License",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3.9",
  "Topic :: Security",
  "Topic :: Utilities",
  "Typing :: Typed"
]


[tool.poetry.dependencies]
python = "^3.9"
Jinja2 = "^3.0.2"
PySimpleGUI = "^4.49.0"
PyYAML = "^6.0"
prettytable = "^2.2.1"
python-magic-bin = "^0.4.14"
simplekml = "^1.3.6"

[tool.poetry.dev-dependencies]
black = "^21.9b0"
# See: https://github.com/flakehell/flakehell/pull/20
flake8 = "<3.9.0"
flake8-bandit = "^2.1.2"
flake8-bugbear = "^21.9.2"
flake8-commas = "^2.1.0"
flake8-comprehensions = "^3.7.0"
flake8-docstrings = "^1.6.0"
flake8-isort = "^4.1.1"
flake8-mutable = "^1.2.0"
flake8-pytest-style = "^1.5.0"
flake8-quotes = "^3.3.0"
flake8-variables-names = "^0.0.4"
flakehell = "^0.9.0"
mypy = "0.910"
pyinstaller = "^4.5.1"
types-PyYAML = "^5.4.11"

[tool.poetry.scripts]
xleapp = "xleapp.__main__:cli"

[tool.flakehell]
# Added per https://githubmemory.com/repo/flakehell/flakehell/issues/10
# exclude chat_rendering.py until tested/fixed
extended_default_ignore=['chat_rendering.py'] 
format = 'grouped'
max_line_length = 90
show_source = true
docstring-convention = 'google'
inline-quotes = 'double'

# D107: don't need docstrings for __init__ method of classes. 
#       Infavor of documenting at the top of classes instead of inside __init__ methods.
# D203: 1 blank line required before class docstring.
# E203: Whitespace before ':'
# E611: No name %r in module %r
# E1101: %s %r has no %r member
# E401: Multiple imports on one line
# E1102: %s is not callable
# E1123: Passing unexpected keyword argument %r in function call
# F401: Module imported but unused.
# W503: Line breaks should occur after the binary operator to keep 
#       all variable names aligned. Disabled infavor of W504 (PEP8 updates)
# Q000: Remove bad quotes
[tool.flakehell.plugins]
flake8-bandit = ['+*']
flake8-bugbear = ['+*']
flake8-builtins = ['+*']
flake8-commas = ['+*']
flake8-comprehensions = ['+*']
flake8-darglint = ['+*']
flake8-docstrings = ['-+*', '-D107']
flake8-eradicate = ['+*']
flake8-isort = ['+*']
flake8-mutable = ['+*']
flake8-pytest-style = ['+*']
flake8-quotes = ['+*', '-Q000']
flake8-variables-names = ['+*']
mccabe = ['+*']
pep8-naming = ['+*']
pycodestyle = ['+*', '-D203', '-W503', '-E501', '-E203']
pyflakes = ['+*']
pylint = ['+F*', '+E*', '-E0611', '-E1101', '-E0401', '-E1102', '-E1123']

[tool.flakehell.exceptions.'**/__init__.py']
pyflakes = ['-F401']


[tool.isort]
profile = 'black'
atomic = true
lines_after_imports = 2
lines_between_types = 1
use_parentheses = true
line_length = 90
include_trailing_comma = true
skip = ['.eggs',
        '.git',
        '.venv',
        '_build']
src_paths = "src"

[tool.black]
line_length = 90
inlcude = '\.pyi?*$'
target_version = ['py39']
exclude = '''
^/(
  (
      \.eggs         # exclude a few common directories in the
    | \.git          # root of the project
    | \.hg
    | \.mypy_cache
    | \.tox
    | \.venv
  )/
)
'''

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

